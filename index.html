<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab360 - Laboratory Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }


        /* Navigation */
        nav {
            background: linear-gradient(to right, #FF0099, #A200FF);
            ;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 2rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .logo-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, #00b894, #00cec9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }


        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-links a:hover {
            background: rgba(23, 23, 22, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(17, 17, 17, 0.2);
        }

        .login-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white !important;
            padding: 0.7rem 1.5rem !important;
            border-radius: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .user-profile {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            font-weight: bold;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-profile:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 184, 148, 0.3);
        }

        .logout-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 0.5rem;
            margin-top: 0.5rem;
            min-width: 120px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .logout-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .logout-btn {
            background: linear-gradient(45deg, #e17055, #fd79a8);
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 5px;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(225, 112, 85, 0.4);
        }

        /* Login Page Styles */
        .login-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #169c16 0%, #6c0409 100%);
            z-index: 2000;
            overflow-y: auto;
        }

        .login-page.show {
            opacity: 1;
        }

        .login-container {
            max-width: 500px;
            margin: 100px auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .login-page.show .login-container {
            transform: translateY(0) scale(1);
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-header h2 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .login-header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #2c3e50;
            font-size: 1rem;
        }

        .form-group input {
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .submit-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .back-btn {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .back-btn:hover {
            background: #667eea;
            color: white;
        }

        /* Video Demonstration Page Styles */
        .video-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: 2000;
            overflow-y: auto;
        }

        .video-container {
            max-width: 900px;
            margin: 120px auto 50px;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .video-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .video-back-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .video-back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .video-title {
            color: #2c3e50;
            font-size: 2rem;
            margin: 0;
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%;
            /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            margin-bottom: 2rem;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
        }

        .video-info {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 15px;
            margin-top: 1rem;
        }

        .video-info h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .video-info p {
            color: #7f8c8d;
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .safety-notice {
            background: linear-gradient(45deg, #e17055, #fd79a8);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
        }

        .safety-notice h4 {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Main Content */
        main {
            margin-top: 100px;
            padding: 2rem 0;
        }

        .section {
            max-width: 1200px;
            margin: 0 auto 4rem;
            padding: 0 2rem;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.6s ease forwards;
        }

        .section:nth-child(2) {
            animation-delay: 0.1s;
        }

        .section:nth-child(3) {
            animation-delay: 0.2s;
        }

        .section:nth-child(4) {
            animation-delay: 0.3s;
        }

        .section:nth-child(5) {
            animation-delay: 0.4s;
        }

        .section:nth-child(6) {
            animation-delay: 0.5s;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Dashboard Section */
        .dashboard {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .dashboard-info h2 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 2.5rem;
        }

        .dashboard-info p {
            color: #7f8c8d;
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .new-equipment-btn {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 184, 148, 0.3);
        }

        .new-equipment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0, 184, 148, 0.4);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .stat-card:nth-child(2) {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .stat-card:nth-child(3) {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .stat-card:nth-child(4) {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .stat-info h3 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .stat-icon {
            font-size: 2.5rem;
            opacity: 0.8;
        }

        /* Equipment Section */
        .equipment {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .equipment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .equipment-header h2 {
            color: #2c3e50;
            font-size: 2.5rem;
        }

        .search-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-input {
            padding: 0.8rem 1.2rem;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .category-select {
            padding: 0.8rem 1.2rem;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
        }

        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .equipment-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .equipment-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .equipment-image {
            width: 100%;
            height: 200px;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .equipment-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .status-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 0.3rem 0.8rem;
            border-Radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
        }

        .status-available {
            background: #00b894;
        }

        .status-unavailable {
            background: #e17055;
        }

        .status-in-use {
            background: #fdcb6e;
            color: #2d3436;
        }

        .status-maintenance {
            background: #fd79a8;
        }

        .status-booked {
            background: #6c5ce7;
        }

        .equipment-info {
            padding: 1.5rem;
        }

        .equipment-info h3 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
        }

        .equipment-info p {
            color: #7f8c8d;
            line-height: 1.6;
        }

        /* Video Play Button Overlay */
        .video-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(102, 126, 234, 0.9);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            opacity: 0;
        }

        .equipment-card:hover .video-overlay {
            opacity: 1;
        }

        /* Booking Section */
        .booking {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .booking h2 {
            color: #2c3e50;
            margin-bottom: 2rem;
            font-size: 2.5rem;
        }

        .booking-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .booking-form .form-group {
            display: flex;
            flex-direction: column;
        }

        .booking-form .form-group label {
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .booking-form .form-group select,
        .booking-form .form-group input {
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .booking-form .form-group select:focus,
        .booking-form .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .book-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            justify-self: start;
            margin-top: 20px;
        }

        .book-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        /* Safety Section */
        .safety {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .safety h2 {
            color: #2c3e50;
            margin-bottom: 2rem;
            font-size: 2.5rem;
        }

        .safety-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .safety-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .safety-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .safety-card h3 {
            color: #e17055;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .view-details-btn {
            background: linear-gradient(45deg, #e17055, #fdcb6e);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        /* Report Section */
        .report {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .report h2 {
            color: #2c3e50;
            margin-bottom: 2rem;
            font-size: 2.5rem;
        }

        .report-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .add-report-btn,
        .export-btn {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-btn {
            background: linear-gradient(45deg, #6c5ce7, #a29bfe);
        }

        .report-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .report-table th,
        .report-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .report-table th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        /* Analytics Dashboard */
        .analytics {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .analytics h2 {
            color: #50372c;
            margin-bottom: 2rem;
            font-size: 2.5rem;
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .analytics-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #2d3436 0%, #636e72 100%);
            color: white;
            padding: 3rem 0 1rem;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #ddd;
        }

        .footer-section p,
        .footer-section a {
            color: #bbb;
            line-height: 1.8;
            text-decoration: none;
        }

        .footer-section a:hover {
            color: #fff;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid #555;
            color: #bbb;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 10% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }

            .dashboard-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .equipment-header {
                flex-direction: column;
                gap: 1rem;
            }

            .search-controls {
                flex-direction: column;
                width: 100%;
            }

            .search-input,
            .category-select {
                width: 100%;
            }

            .login-container {
                margin: 50px auto;
                padding: 1.5rem;
            }

            .video-container {
                margin: 80px auto 30px;
                padding: 1.5rem;
            }

            .video-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .video-title {
                font-size: 1.5rem;
            }
        }

        .hidden {
            display: none;
        }

        /* Toggle Button Styling */
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.4rem;
            cursor: pointer;
            margin-left: 15px;
            color: white;
            transition: transform 0.3s ease, color 0.3s ease;
        }

        .theme-toggle:hover {
            transform: rotate(20deg) scale(1.2);
            color: #ffd700;
            /* golden glow */
        }

        /* Dark mode styles */
        body.dark-mode {
            background: #1a1a1a;
            color: #f1f1f1;
        }

        body.dark-mode nav {
            background: #222;
        }

        body.dark-mode .card,
        body.dark-mode .booking-form,
        body.dark-mode .report-form {
            background: #2c2c2c;
            color: #f1f1f1;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        /* Preloader Background */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0b0f19;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 9999;
            transition: opacity 0.6s ease, visibility 0.6s;
        }

        /* Atom Core */
        .atom {
            position: relative;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle, #00eaff, #0066ff);
            box-shadow: 0 0 25px rgba(0, 200, 255, 0.8);
        }

        /* Electrons */
        .atom .electron {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            border: 2px dashed rgba(0, 200, 255, 0.6);
            border-radius: 50%;
            transform-origin: center;
            animation: spin 3s linear infinite;
        }

        .atom .electron:nth-child(2) {
            width: 140px;
            height: 140px;
            animation: spin 5s linear infinite reverse;
        }

        .atom .electron:nth-child(3) {
            width: 180px;
            height: 180px;
            animation: spin 60s linear infinite;
        }

        /* Text */
        .loading-text {
            margin-top: 20px;
            color: #00eaff;
            font-size: 1.2rem;
            letter-spacing: 2px;
            font-family: 'Poppins', sans-serif;
        }

        /* Spin Animation */
        @keyframes spin {
            from {
                transform: rotate(0deg) translateX(50px) rotate(0deg);
            }

            to {
                transform: rotate(360deg) translateX(50px) rotate(-360deg);
            }
        }

        /* Background container for particles */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            top: 0;
            left: 0;
            background: linear-gradient(135deg, #141e30, #243b55);
            /* Dark science gradient */
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        #analytics h2{
            color: rgb(0, 255, 119);
        }
        
    </style>
</head>

<body>
    <div id="particles-js"></div>

    <!-- 🔬 Science-Themed Preloader -->
    <div id="preloader">
        <div class="atom">
            <div class="electron"></div>
            <div class="electron"></div>
            <div class="electron"></div>
        </div>
        <p class="loading-text">Loading Lab360...</p>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="login-page">
        <div class="login-container">
            <button class="back-btn" onclick="showMainPage()">← Back to Main</button>
            <div class="login-header">
                <h2>Student Login</h2>
                <p>Please enter your details to access Lab360</p>
            </div>
            <form class="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="student-name">Student Name</label>
                    <input type="text" id="student-name" name="studentName" required>
                </div>
                <div class="form-group">
                    <label for="class">Class</label>
                    <input type="text" id="class" name="class" required>
                </div>
                <div class="form-group">
                    <label for="division">Division</label>
                    <input type="text" id="division" name="division" required>
                </div>
                <div class="form-group">
                    <label for="email">Email ID</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <button type="submit" class="submit-btn">Submit</button>
            </form>
        </div>
    </div>

    <!-- Video Demonstration Page -->
    <div id="video-page" class="video-page">
        <div class="video-container">
            <div class="video-header">
                <button class="video-back-btn" onclick="showMainPageFromVideo()">
                    ← Back to Equipment
                </button>
                <h2 class="video-title" id="video-equipment-title">Equipment Demonstration</h2>
            </div>
            <div class="video-wrapper">
                <iframe id="equipment-video" src="" allowfullscreen></iframe>
            </div>
            <div class="video-info">
                <h3>📋 Equipment Information</h3>
                <p id="video-equipment-description"></p>
                <h3>🎯 Learning Objectives</h3>
                <ul id="learning-objectives">
                    <!-- Learning objectives will be populated by JavaScript -->
                </ul>
                <div class="safety-notice">
                    <h4>⚠️ Safety Reminder</h4>
                    <p>Always follow proper safety protocols when using laboratory equipment. Wear appropriate PPE and
                        ensure you understand all safety procedures before operating any equipment.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Website -->
    <div id="main-page">
        <!-- Navigation -->
        <nav>
            <div class="nav-container">
                <div class="logo">
                    <div class="logo-img">🔬</div>
                    Lab360
                </div>
                <ul class="nav-links">
                    <li><a href="#dashboard" onclick="scrollToSection('dashboard')">Dashboard</a></li>
                    <li><a href="#equipment" onclick="scrollToSection('equipment')">Equipment</a></li>
                    <li><a href="#booking" onclick="scrollToSection('booking')">Booking</a></li>
                    <li><a href="#safety" onclick="scrollToSection('safety')">Safety</a></li>
                    <li><a href="#report" onclick="scrollToSection('report')">Report</a></li>
                </ul>
                <div id="login-section">
                    <button class="login-btn" onclick="showLoginPage()">Login</button>
                    <!-- Dark/Light Mode Toggle -->
                    <button id="theme-toggle" class="theme-toggle">
                        🌙
                    </button>

                </div>

            </div>
        </nav>

        <!-- Main Content -->
        <main>
            <!-- Dashboard Section -->
            <section id="dashboard" class="section">
                <div class="dashboard">
                    <div class="dashboard-header">
                        <div class="dashboard-info">
                            <h2>Dashboard</h2>
                            <p>Welcome to Lab360 - Your comprehensive laboratory management system. Monitor equipment,
                                manage bookings, ensure safety protocols, and generate detailed reports all in one
                                place.</p>
                        </div>
                        <button class="new-equipment-btn" onclick="addNewEquipment()">
                            + New Equipment
                        </button>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="total-equipment">24</h3>
                                <p>Total Equipment</p>
                            </div>
                            <div class="stat-icon">🔬</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="active-bookings">8</h3>
                                <p>Active Bookings</p>
                            </div>
                            <div class="stat-icon">📅</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="maintenance-due">3</h3>
                                <p>Maintenance Due</p>
                            </div>
                            <div class="stat-icon">🔧</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="safety-alerts">2</h3>
                                <p>Safety Alerts</p>
                            </div>
                            <div class="stat-icon">⚠️</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Equipment Section -->
            <section id="equipment" class="section">
                <div class="equipment">
                    <div class="equipment-header">
                        <h2>Equipment</h2>
                        <div class="search-controls">
                            <input type="text" class="search-input" placeholder="Search equipment..."
                                onkeyup="searchEquipment(this.value)">
                            <select class="category-select" onchange="filterByCategory(this.value)">
                                <option value="all">All Categories</option>
                                <option value="chemistry">Chemistry</option>
                                <option value="physics">Physics</option>
                                <option value="biology">Biology</option>
                            </select>
                        </div>
                    </div>

                    <div class="equipment-grid" id="equipment-grid">
                        <!-- Equipment cards will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Booking Section -->
            <section id="booking" class="section">
                <div class="booking">
                    <h2>Booking</h2>
                    <form class="booking-form" onsubmit="bookEquipment(event)">
                        <div class="form-group">
                            <label for="equipment-select">Equipment:</label>
                            <select id="equipment-select" required>
                                <option value="">Select Equipment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="booking-date">Date:</label>
                            <input type="date" id="booking-date" required>
                        </div>
                        <div class="form-group">
                            <label for="booking-time">Time:</label>
                            <input type="time" id="booking-time" required>
                        </div>
                        <div class="form-group">
                            <label for="duration">Duration (hours):</label>
                            <select id="duration" required>
                                <option value="1">1 hour</option>
                                <option value="2">2 hours</option>
                                <option value="3">3 hours</option>
                                <option value="4">4 hours</option>
                            </select>
                        </div>
                        <button type="submit" class="book-btn">Book Equipment</button>
                    </form>
                </div>
            </section>

            <!-- Safety Section -->
            <section id="safety" class="section">
                <div class="safety">
                    <h2>Safety</h2>
                    <div class="safety-grid">
                        <div class="safety-card">
                            <h3>🛡️ General Safety Guidelines</h3>
                            <p>Always wear appropriate personal protective equipment (PPE) including safety goggles, lab
                                coats, and gloves. Ensure proper ventilation and never work alone with hazardous
                                materials.</p>
                            <button class="view-details-btn" onclick="showSafetyDetails('general')">View
                                Details</button>
                        </div>
                        <div class="safety-card">
                            <h3>⚠️ Equipment Alerts</h3>
                            <p>Current safety alerts for specific equipment. Check before use to ensure safe operation
                                and compliance with safety protocols.</p>
                            <button class="view-details-btn" onclick="showSafetyDetails('alerts')">View Details</button>
                        </div>
                        <div class="safety-card">
                            <h3>🎥 Training Videos</h3>
                            <p>Access comprehensive training videos for proper equipment usage, safety procedures, and
                                emergency protocols.</p>
                            <button class="view-details-btn" onclick="showSafetyDetails('training')">View
                                Details</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Report Section -->
            <section id="report" class="section">
                <div class="report">
                    <h2>Reports</h2>
                    <div class="report-controls">
                        <button class="add-report-btn" onclick="addNewReport()">+ Add New Report</button>
                        <button class="export-btn" onclick="exportReport('pdf')">📄 Export PDF</button>
                        <button class="export-btn" onclick="exportReport('excel')">📊 Export Excel</button>
                        <button class="export-btn" onclick="exportReport('csv')">📋 Export CSV</button>
                    </div>

                    <table class="report-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Equipment</th>
                                <th>Type of Problem</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="report-tbody">
                            <tr>
                                <td>2025-08-01</td>
                                <td>Microscope MX-200</td>
                                <td>Lens calibration issue</td>
                                <td>Resolved</td>
                                <td>Recalibrated lens system</td>
                            </tr>
                            <tr>
                                <td>2025-08-03</td>
                                <td>Centrifuge CF-300</td>
                                <td>Unusual vibration</td>
                                <td>In Progress</td>
                                <td>Scheduled maintenance check</td>
                            </tr>
                            <tr>
                                <td>2025-08-04</td>
                                <td>Spectrometer SP-150</td>
                                <td>Software error</td>
                                <td>Pending</td>
                                <td>Awaiting software update</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Analytics Dashboard -->
            <section id="analytics" class="section">
                <h2>📊 Analytics Dashboard</h2>
                <div class="charts-grid">
                    <div class="chart-card">
                        <canvas id="equipmentChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <canvas id="bookingChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <canvas id="reportsChart"></canvas>
                    </div>
                </div>
            </section>

        </main>

        <!-- Footer -->
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About Lab360</h3>
                    <p>Lab360 is a comprehensive laboratory management system designed to streamline equipment
                        management, booking, safety protocols, and reporting for educational and research institutions.
                    </p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <p><a href="#dashboard">Dashboard</a></p>
                    <p><a href="#equipment">Equipment</a></p>
                    <p><a href="#booking">Booking</a></p>
                    <p><a href="#safety">Safety</a></p>
                    <p><a href="#report">Report</a></p>
                </div>
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <p>📞 +1 (555) 123-4567</p>
                    <p>📍 123 Science Ave, Research City, RC 12345</p>
                    <p>✉️ contact@lab360.com</p>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <p><a href="#">User Manual</a></p>
                    <p><a href="#">Safety Guidelines</a></p>
                    <p><a href="#">Training Materials</a></p>
                    <p><a href="#">Support Center</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Lab360. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <!-- New Equipment Modal -->
    <div id="new-equipment-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('new-equipment-modal')">&times;</span>
            <h2>Add New Equipment</h2>
            <form onsubmit="submitNewEquipment(event)">
                <div class="form-group">
                    <label for="new-equipment-name">Equipment Name:</label>
                    <input type="text" id="new-equipment-name" required>
                </div>
                <div class="form-group">
                    <label for="new-equipment-category">Category:</label>
                    <select id="new-equipment-category" required>
                        <option value="">Select Category</option>
                        <option value="chemistry">Chemistry</option>
                        <option value="physics">Physics</option>
                        <option value="biology">Biology</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="new-equipment-description">Description:</label>
                    <textarea id="new-equipment-description" rows="3" required></textarea>
                </div>
                <button type="submit" class="book-btn">Add Equipment</button>
            </form>
        </div>
    </div>

    <!-- Booking Confirmation Modal -->
    <div id="booking-confirmation-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('booking-confirmation-modal')">&times;</span>
            <h2>Booking Confirmation</h2>
            <div id="booking-details"></div>
            <button class="book-btn" onclick="confirmBooking()">Confirm Booking</button>
            <button class="book-btn" style="background: #e17055;"
                onclick="closeModal('booking-confirmation-modal')">Cancel</button>
        </div>
    </div>

    <!-- Safety Details Modal -->
    <div id="safety-details-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('safety-details-modal')">&times;</span>
            <h2 id="safety-modal-title">Safety Details</h2>
            <div id="safety-modal-content"></div>
            <button class="book-btn" onclick="closeModal('safety-details-modal')">OK</button>
        </div>
    </div>

    <!-- Add Report Modal -->
    <div id="add-report-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('add-report-modal')">&times;</span>
            <h2>Add New Report</h2>
            <form onsubmit="submitNewReport(event)">
                <div class="form-group">
                    <label for="report-equipment">Equipment:</label>
                    <select id="report-equipment" required>
                        <option value="">Select Equipment</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="report-problem">Problem Type:</label>
                    <select id="report-problem" required>
                        <option value="">Select Problem Type</option>
                        <option value="Mechanical Issue">Mechanical Issue</option>
                        <option value="Software Error">Software Error</option>
                        <option value="Calibration Problem">Calibration Problem</option>
                        <option value="Safety Concern">Safety Concern</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="report-description">Description:</label>
                    <textarea id="report-description" rows="3" required></textarea>
                </div>
                <button type="submit" class="book-btn">Add Report</button>
            </form>
        </div>
    </div>
    <!-- Check Booking Modal -->
    <div id="check-booking-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('check-booking-modal')">&times;</span>
            <h2>Your Booking</h2>
            <div id="check-booking-details"></div>
            <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                <button class="book-btn" onclick="closeModal('check-booking-modal')">OK</button>
                <button class="book-btn" style="background: #e17055;" onclick="cancelBooking()">Cancel Booking</button>
            </div>
        </div>
    </div>


    <script>

        // User data storage
        let currentUser = null;

        // Equipment data with video URLs and learning objectives
        let equipmentData = [
            {
                id: 1,
                name: 'Olympus CX23 Microscope',
                category: 'biology',
                description: 'Observing cells, microorganisms, tissue sections, and plant/animal cell structures.',
                status: 'available',
                image: 'https://5.imimg.com/data5/SELLER/Default/2025/1/481933865/GY/JY/XF/35986467/olympus-cx23-binocular-microscope.jpg',
                videoUrl: 'CX23 Biological Microscope, well-suited for educational and classroom use.mp4',
                learningObjectives: [
                    'Learn proper microscope setup and calibration',
                    'Understand magnification and resolution principles',
                    'Practice focusing techniques and slide preparation',
                    'Identify different microscope components and their functions'
                ]
            },
            {
                id: 2,
                name: 'Griffin Beaker',
                category: 'chemistry',
                description: 'Ideal for stirring and combining liquids or solutions.',
                status: 'in-use',
                image: 'https://5.imimg.com/data5/LN/AX/MY-10367665/1000-beakers-2c-griffin-2c-low-form-2c-with-spout.png',
                videoUrl: 'How to use a Beaker.mp4',
                learningObjectives: [
                    'Understand proper beaker handling and pouring techniques',
                    'Learn safe mixing and stirring procedures',
                    'Practice accurate volume estimation',
                    'Understand when to use beakers vs other glassware'
                ]
            },
            {
                id: 3,
                name: 'Borosilicate Glass Test Tube',
                category: 'Chemistry/Biology',
                description: 'Carrying out small-scale reactions',
                status: 'maintenance',
                image: 'https://chemglass.com/images/thumbs/0005687_tubes-culture-disposable-borosilicate-glass-fire-polished-rims.jpeg',
                videoUrl: 'Online Science Practical Class - How to handle a glass test tube using test tube holder.mp4',
                learningObjectives: [
                    'Learn proper test tube handling and labeling',
                    'Understand heating techniques and safety precautions',
                    'Practice measuring small volumes accurately',
                    'Learn proper disposal and cleaning procedures'
                ]
            },
            {
                id: 4,
                name: 'Bunsen Burner',
                category: 'chemistry/physics',
                description: 'Heating substances in test tubes or beakers.',
                status: 'available',
                image: 'https://cdn.britannica.com/71/203271-050-8006A1ED/Bunsen-burner-laboratory.jpg',
                videoUrl: 'How to Use a Bunsen Burner.mp4',
                learningObjectives: [
                    'Understand gas safety and proper lighting procedures',
                    'Learn flame adjustment and temperature control',
                    'Practice safe heating techniques with various apparatus',
                    'Understand proper shutdown and maintenance procedures'
                ]
            },
            {
                id: 5,
                name: 'Voltmeter and Ammeter',
                category: 'physics',
                description: 'Measuring voltage across an electrochemical cell. Monitoring current during electrolysis',
                status: 'booked',
                image: 'https://5.imimg.com/data5/SELLER/Default/2023/5/305476084/BG/SP/MR/9513034/ammeter-voltmeter-analog-for-industrial-square.jpg',
                videoUrl: 'ammeter.mp4',
                learningObjectives: [
                    'Learn proper meter connection in circuits',
                    'Understand series vs parallel connections',
                    'Practice reading analog scales accurately',
                    'Learn troubleshooting common measurement errors'
                ]
            },
            {
                id: 6,
                name: 'Spring Balance',
                category: 'physics/chemistry',
                description: 'Measuring weight of chemical containers or objects',
                status: 'available',
                image: 'https://hmest.com/wp-content/uploads/2021/08/1-2.jpg',
                videoUrl: 'How to use a spring scale.mp4',
                learningObjectives: [
                    'Understand the difference between mass and weight',
                    'Learn proper calibration and zeroing procedures',
                    'Practice accurate force measurements',
                    'Understand spring balance limitations and range'
                ]
            },
            {
                id: 7,
                name: 'Thermometer',
                category: 'biology/physics/chemistry',
                description: 'Measuring temperature of chemical reactions',
                status: 'unavailable',
                image: 'https://tiimg.tistatic.com/fp/1/005/835/glass-thermometers-591.jpg',
                videoUrl: 'How to Use a Thermometer.mp4',
                learningObjectives: [
                    'Learn proper thermometer handling and positioning',
                    'Understand temperature scale conversions',
                    'Practice accurate temperature readings',
                    'Learn about different thermometer types and applications'
                ]
            },
            {
                id: 8,
                name: 'Petri Dishes',
                category: 'biology',
                description: 'Used to evaporate solvents like water from solutions to observe solute residue',
                status: 'available',
                image: 'https://image.made-in-china.com/2f0j00NarkMAtsMyuw/90mm-Petri-Dish-for-Science-Experiment.jpg',
                videoUrl: 'Pour Plate Technique for Colony Counting_A Complete Procedure (Microbiology).mp4',
                learningObjectives: [
                    'Learn sterile handling techniques and contamination prevention',
                    'Understand proper preparation and labeling methods',
                    'Practice media pouring and sample plating',
                    'Learn proper storage and disposal procedures'
                ]
            }
        ];

        let bookingData = [];
        let reportData = [
            { date: '2025-08-01', equipment: 'Olympus CX23 Microscope', problem: 'Lens calibration issue', status: 'Resolved', action: 'Recalibrated lens system' },
            { date: '2025-08-03', equipment: 'Griffin Beaker', problem: 'Wide opening and no lid increase chances of spilling while mixing or heating.', status: 'In Progress', action: 'Use a watch glass as a cover or choose Erlenmeyer flasks for better control during mixing.' },
            { date: '2025-08-04', equipment: 'Borosilicate Glass Test Tube', problem: 'A student accidentally knocks it off the table', status: 'Pending', action: 'Educate students to handle glassware carefully.' }
        ];

        // Video page functions
        function showVideoPage(equipmentId) {
            const equipment = equipmentData.find(eq => eq.id === equipmentId);
            if (!equipment) return;

            // Hide main page and show video page
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('video-page').style.display = 'block';

            // Populate video page content
            document.getElementById('video-equipment-title').textContent = equipment.name + ' - Demonstration';
            document.getElementById('equipment-video').src = equipment.videoUrl;
            document.getElementById('video-equipment-description').textContent = equipment.description;

            // Populate learning objectives
            const objectivesList = document.getElementById('learning-objectives');
            objectivesList.innerHTML = '';
            equipment.learningObjectives.forEach(objective => {
                const li = document.createElement('li');
                li.textContent = objective;
                objectivesList.appendChild(li);
            });
        }

        function showMainPageFromVideo() {
            // Clear video src to stop playback
            document.getElementById('equipment-video').src = '';

            // Hide video page and show main page
            document.getElementById('video-page').style.display = 'none';
            document.getElementById('main-page').style.display = 'block';
        }

        // Login functions
        function showLoginPage() {
            const loginPage = document.getElementById('login-page');
            document.getElementById('main-page').style.display = 'none';
            loginPage.style.display = 'block';
            // Trigger animation
            setTimeout(() => {
                loginPage.classList.add('show');
            }, 10);
        }

        function showMainPage() {
            const loginPage = document.getElementById('login-page');
            loginPage.classList.remove('show');
            // Wait for animation to complete before hiding
            setTimeout(() => {
                loginPage.style.display = 'none';
                document.getElementById('main-page').style.display = 'block';
            }, 500);
        }

        function handleLogin(event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            currentUser = {
                name: formData.get('studentName'),
                class: formData.get('class'),
                division: formData.get('division'),
                email: formData.get('email'),
                phone: formData.get('phone')
            };

            // Update the navigation to show user name
            const loginSection = document.getElementById('login-section');
            loginSection.innerHTML = `
    <div class="user-profile" onclick="toggleLogoutDropdown()">
        Welcome, ${currentUser.name}
        <div class="logout-dropdown" id="logout-dropdown">
            <button class="logout-btn" onclick="showCheckBooking()">Check Booking</button>
            <button class="logout-btn" onclick="handleLogout()">Logout</button>
        </div>
    </div>
`;

            // Clear the form
            event.target.reset();

            // Return to main page
            showMainPage();

            // Show welcome message
            alert(`Welcome, ${currentUser.name}! You are now logged in.`);
        }

        function toggleLogoutDropdown() {
            const dropdown = document.getElementById('logout-dropdown');
            dropdown.classList.toggle('show');
        }

        function handleLogout() {
            // Reset user data
            currentUser = null;

            // Update navigation back to login button
            const loginSection = document.getElementById('login-section');
            loginSection.innerHTML = `<button class="login-btn" onclick="showLoginPage()">Login</button>`;

            // Show logout message
            alert('You have been logged out successfully!');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function (event) {
            const userProfile = document.querySelector('.user-profile');
            const dropdown = document.getElementById('logout-dropdown');

            if (userProfile && dropdown && !userProfile.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            renderEquipment();
            populateEquipmentSelects();
            updateStats();

            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('booking-date').min = today;
        });

        // Smooth scrolling to sections
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Render equipment cards
        function renderEquipment(filteredData = equipmentData) {
            const grid = document.getElementById('equipment-grid');
            grid.innerHTML = '';

            filteredData.forEach(equipment => {
                const statusClass = `status-${equipment.status.replace(' ', '-')}`;
                const statusText = equipment.status.charAt(0).toUpperCase() + equipment.status.slice(1).replace('-', ' ');

                const card = document.createElement('div');
                card.className = 'equipment-card';
                card.onclick = () => showVideoPage(equipment.id);
                card.innerHTML = `
                    <div class="equipment-image">
                        <img src="${equipment.image}" alt="${equipment.name}" loading="lazy">
                        <span class="status-badge ${statusClass}">${statusText}</span>
                        <div class="video-overlay">▶</div>
                    </div>
                    <div class="equipment-info">
                        <h3>${equipment.name}</h3>
                        <p>${equipment.description}</p>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Search equipment
        function searchEquipment(query) {
            const filtered = equipmentData.filter(equipment =>
                equipment.name.toLowerCase().includes(query.toLowerCase()) ||
                equipment.description.toLowerCase().includes(query.toLowerCase())
            );
            renderEquipment(filtered);
        }

        // Filter by category
        function filterByCategory(category) {
            if (category === 'all') {
                renderEquipment();
            } else {
                const filtered = equipmentData.filter(equipment => equipment.category === category);
                renderEquipment(filtered);
            }
        }

        // Populate equipment select dropdowns
        function populateEquipmentSelects() {
            const selects = ['equipment-select', 'report-equipment'];
            const availableEquipment = equipmentData.filter(eq => eq.status === 'available');

            selects.forEach(selectId => {
                const select = document.getElementById(selectId);
                select.innerHTML = '<option value="">Select Equipment</option>';

                equipmentData.forEach(equipment => {
                    const option = document.createElement('option');
                    option.value = equipment.id;
                    option.textContent = equipment.name;
                    if (selectId === 'equipment-select' && equipment.status !== 'available') {
                        option.disabled = true;
                        option.textContent += ` (${equipment.status})`;
                    }
                    select.appendChild(option);
                });
            });
        }

        // Add new equipment
        function addNewEquipment() {
            document.getElementById('new-equipment-modal').style.display = 'block';
        }

        function submitNewEquipment(event) {
            event.preventDefault();

            const name = document.getElementById('new-equipment-name').value;
            const category = document.getElementById('new-equipment-category').value;
            const description = document.getElementById('new-equipment-description').value;

            const images = {
                chemistry: 'https://images.unsplash.com/photo-1554475901-4538ddfbccc2?ixlib=rb-4.0.3&w=300&h=200&fit=crop',
                physics: 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&w=300&h=200&fit=crop',
                biology: 'https://images.unsplash.com/photo-1576086213369-97a306d36557?ixlib=rb-4.0.3&w=300&h=200&fit=crop'
            };

            const newEquipment = {
                id: equipmentData.length + 1,
                name: name,
                category: category,
                description: description,
                status: 'available',
                image: images[category],
                videoUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ', // Default video
                learningObjectives: [
                    'Learn basic operation procedures',
                    'Understand safety protocols',
                    'Practice proper handling techniques',
                    'Learn maintenance requirements'
                ]
            };

            equipmentData.push(newEquipment);
            renderEquipment();
            populateEquipmentSelects();
            updateStats();
            closeModal('new-equipment-modal');

            // Reset form
            event.target.reset();
        }

        // Book equipment
        function bookEquipment(event) {
            event.preventDefault();

            const equipmentId = document.getElementById('equipment-select').value;
            const date = document.getElementById('booking-date').value;
            const time = document.getElementById('booking-time').value;
            const duration = document.getElementById('duration').value;

            const equipment = equipmentData.find(eq => eq.id == equipmentId);

            if (!equipment) {
                alert('Please select equipment');
                return;
            }

            const bookingDetails = `
                <h3>Booking Details</h3>
                <p><strong>Equipment:</strong> ${equipment.name}</p>
                <p><strong>Date:</strong> ${date}</p>
                <p><strong>Time:</strong> ${time}</p>
                <p><strong>Duration:</strong> ${duration} hour(s)</p>
            `;

            document.getElementById('booking-details').innerHTML = bookingDetails;
            document.getElementById('booking-confirmation-modal').style.display = 'block';

            // Store booking data temporarily
            window.tempBooking = { equipmentId, date, time, duration };
        }

        function confirmBooking() {
            const booking = window.tempBooking;

            // Add to booking data
            bookingData.push({
                id: bookingData.length + 1,
                equipmentId: booking.equipmentId,
                date: booking.date,
                time: booking.time,
                duration: booking.duration,
                status: 'active'
            });

            // Update equipment status
            const equipment = equipmentData.find(eq => eq.id == booking.equipmentId);
            equipment.status = 'booked';

            renderEquipment();
            populateEquipmentSelects();
            updateStats();
            closeModal('booking-confirmation-modal');

            // Reset form
            document.querySelector('.booking-form').reset();

            alert('Booking confirmed successfully!');
        }

        // Safety details
        function showSafetyDetails(type) {
            const modal = document.getElementById('safety-details-modal');
            const title = document.getElementById('safety-modal-title');
            const content = document.getElementById('safety-modal-content');

            const safetyContent = {
                general: {
                    title: 'General Safety Guidelines',
                    content: `
                        <h4>Personal Protective Equipment (PPE)</h4>
                        <ul>
                            <li>Safety goggles must be worn at all times</li>
                            <li>Lab coats are required in all laboratory areas</li>
                            <li>Closed-toe shoes only</li>
                            <li>Gloves when handling chemicals or biological materials</li>
                        </ul>
                        <h4>Emergency Procedures</h4>
                        <ul>
                            <li>Emergency shower and eyewash stations located at each lab entrance</li>
                            <li>Fire extinguishers and blankets available</li>
                            <li>Emergency contact: 911 or ext. 4911</li>
                        </ul>
                    `
                },
                alerts: {
                    title: 'Equipment Safety Alerts',
                    content: `
                        <h4>Current Alerts</h4>
                        <div style="background: #fee; padding: 1rem; border-radius: 5px; margin: 1rem 0;">
                            <strong>⚠️ Olympus CX23 Microscope:</strong> always ensure the lens and stage are clean
                        </div>
                        <div style="background: #fee; padding: 1rem; border-radius: 5px; margin: 1rem 0;">
                            <strong>⚠️ Bunsen Burner:</strong> always check for gas leaks and ensure safety equipment is nearby.
                        </div>
                    `
                },
                training: {
                    title: 'Training Videos',
                    content: `
                        <h4>Available Training Modules</h4>
                        <ul>
                            <li>🎥 Olympus CX23 Microscope (4:06 min)</li>
                            <li>🎥 Bunsen Burner (1:30 min)</li>
                            <li>🎥 Borosilicate Glass Test Tube (0:25 sec)</li>
                            <li>🎥 Bunsen Burner (0:50 sec)</li>
                            <li>🎥 Voltmeter and Ammeter (3:56 min)</li>
                        </ul>
                        <p><em>Contact your lab supervisor to access training materials.</em></p>
                    `
                }
            };

            title.textContent = safetyContent[type].title;
            content.innerHTML = safetyContent[type].content;
            modal.style.display = 'block';
        }

        // Add new report
        function addNewReport() {
            document.getElementById('add-report-modal').style.display = 'block';
        }

        function submitNewReport(event) {
            event.preventDefault();

            const equipmentId = document.getElementById('report-equipment').value;
            const problem = document.getElementById('report-problem').value;
            const description = document.getElementById('report-description').value;

            const equipment = equipmentData.find(eq => eq.id == equipmentId);
            const today = new Date().toISOString().split('T')[0];

            const newReport = {
                date: today,
                equipment: equipment.name,
                problem: problem,
                status: 'Pending',
                action: description
            };

            reportData.push(newReport);
            renderReports();
            closeModal('add-report-modal');

            // Update equipment status if it's a serious issue
            if (problem === 'Safety Concern' || problem === 'Mechanical Issue') {
                equipment.status = 'maintenance';
                renderEquipment();
                populateEquipmentSelects();
                updateStats();
            }

            event.target.reset();
        }

        // Render reports
        function renderReports() {
            const tbody = document.getElementById('report-tbody');
            tbody.innerHTML = '';

            reportData.forEach(report => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${report.date}</td>
                    <td>${report.equipment}</td>
                    <td>${report.problem}</td>
                    <td>${report.status}</td>
                    <td>${report.action}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Export reports
        function exportReport(format) {
            const data = reportData.map(report =>
                `${report.date},${report.equipment},${report.problem},${report.status},${report.action}`
            ).join('\n');

            const header = 'Date,Equipment,Problem Type,Status,Action\n';
            const csvContent = header + data;

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = `lab_report_${new Date().toISOString().split('T')[0]}.${format === 'csv' ? 'csv' : 'txt'}`;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);

            alert(`Report exported as ${format.toUpperCase()}`);
        }

        // Update statistics
        function updateStats() {
            document.getElementById('total-equipment').textContent = equipmentData.length;
            document.getElementById('active-bookings').textContent = bookingData.filter(b => b.status === 'active').length;
            document.getElementById('maintenance-due').textContent = equipmentData.filter(eq => eq.status === 'maintenance').length;
            document.getElementById('safety-alerts').textContent = '2'; // Static for demo
        }

        // Modal functions
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function (event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Initialize reports on load
        document.addEventListener('DOMContentLoaded', function () {
            renderReports();
        });

        // Smooth scroll for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add some dynamic animations
        function addScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('.section').forEach(section => {
                observer.observe(section);
            });
        }

        // Initialize animations
        document.addEventListener('DOMContentLoaded', addScrollAnimations);

        function showCheckBooking() {
            if (!currentUser) {
                alert("Please log in to view your booking.");
                return;
            }

            const userBookings = bookingData.filter(b => b.status === 'active');
            const detailsDiv = document.getElementById('check-booking-details');

            if (userBookings.length === 0) {
                detailsDiv.innerHTML = "<p>You have no active bookings.</p>";
            } else {
                let bookingHTML = '';
                userBookings.forEach(b => {
                    const eq = equipmentData.find(e => e.id == b.equipmentId);
                    bookingHTML += `
                <p><strong>Equipment:</strong> ${eq.name}</p>
                <p><strong>Date:</strong> ${b.date}</p>
                <p><strong>Time:</strong> ${b.time}</p>
                <p><strong>Duration:</strong> ${b.duration} hour(s)</p>
                <hr>
            `;
                });
                detailsDiv.innerHTML = bookingHTML;
            }

            document.getElementById('check-booking-modal').style.display = 'block';
        }

        function cancelBooking() {
            if (confirm("Are you sure you want to cancel your booking?")) {
                bookingData = bookingData.filter(b => b.status !== 'active');

                // Update equipment status back to available
                equipmentData.forEach(eq => {
                    if (eq.status === 'booked') eq.status = 'available';
                });

                renderEquipment();
                populateEquipmentSelects();
                updateStats();
                closeModal('check-booking-modal');
                alert("Booking has been canceled.");
            }
        }

        const toggleBtn = document.getElementById("theme-toggle");
        const body = document.body;

        // Check local storage
        if (localStorage.getItem("theme") === "dark") {
            body.classList.add("dark-mode");
            toggleBtn.textContent = "☀️";
        }

        toggleBtn.addEventListener("click", () => {
            body.classList.toggle("dark-mode");

            if (body.classList.contains("dark-mode")) {
                toggleBtn.textContent = "☀️"; // Sun icon for light mode
                localStorage.setItem("theme", "dark");
            } else {
                toggleBtn.textContent = "🌙"; // Moon icon for dark mode
                localStorage.setItem("theme", "light");
            }
        });

        window.addEventListener("load", function () {
            const loader = document.getElementById("preloader");
            loader.style.opacity = "0";
            loader.style.visibility = "hidden";
            setTimeout(() => { loader.remove(); }, 600);
        });






    </script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <script>
        particlesJS("particles-js", {
            "particles": {
                "number": {
                    "value": 80,
                    "density": { "enable": true, "value_area": 800 }
                },
                "color": { "value": "#00d4ff" },
                "shape": {
                    "type": "circle",
                    "stroke": { "width": 0, "color": "#000" }
                },
                "opacity": {
                    "value": 0.5,
                    "random": false,
                    "anim": { "enable": false }
                },
                "size": {
                    "value": 4,
                    "random": true,
                    "anim": { "enable": false }
                },
                "line_linked": {
                    "enable": true,
                    "distance": 150,
                    "color": "#00d4ff",
                    "opacity": 0.4,
                    "width": 1
                },
                "move": {
                    "enable": true,
                    "speed": 3,
                    "direction": "none",
                    "random": false,
                    "straight": false,
                    "out_mode": "out",
                    "bounce": false
                }
            },
            "interactivity": {
                "detect_on": "canvas",
                "events": {
                    "onhover": { "enable": true, "mode": "grab" },
                    "onclick": { "enable": true, "mode": "push" },
                    "resize": true
                },
                "modes": {
                    "grab": { "distance": 200, "line_linked": { "opacity": 0.7 } },
                    "push": { "particles_nb": 4 }
                }
            },
            "retina_detect": true
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Equipment Chart (Bar Chart)
            new Chart(document.getElementById("equipmentChart"), {
                type: 'bar',
                data: {
                    labels: ["Physics", "Chemistry", "Biology"],
                    datasets: [{
                        label: "Available Equipment",
                        data: [50, 60, 40], // Example data
                        backgroundColor: ["#667eea", "#764ba2", "#f56565"]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: "Equipment Distribution" }
                    }
                }
            });

            // Booking Chart (Line Chart)
            new Chart(document.getElementById("bookingChart"), {
                type: 'line',
                data: {
                    labels: ["Mon", "Tue", "Wed", "Thu", "Fri"],
                    datasets: [{
                        label: "Bookings",
                        data: [5, 7, 10, 6, 8],
                        borderColor: "#667eea",
                        fill: false,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: "Weekly Bookings" }
                    }
                }
            });

            // Reports Chart (Pie Chart)
            new Chart(document.getElementById("reportsChart"), {
                type: 'pie',
                data: {
                    labels: ["Pending", "Resolved"],
                    datasets: [{
                        data: [12, 25],
                        backgroundColor: ["#f56565", "#48bb78"]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: "Reports Status" }
                    }
                }
            });
        });
    </script>

</body>

</html>